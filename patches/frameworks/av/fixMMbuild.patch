From ead3803e44bdd56d5959c5e97a684ab3b23ff097 Mon Sep 17 00:00:00 2001
From: LineageOS-MTK <luzejij@binka.me>
Date: Tue, 7 Feb 2017 15:17:42 +0300
Subject: [PATCH] Mediatek: fix building

---
 media/libstagefright/omx/OMXNodeInstance.cpp | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/media/libstagefright/omx/OMXNodeInstance.cpp b/media/libstagefright/omx/OMXNodeInstance.cpp
index 6c0ac52b5..424a5dac9 100644
--- a/media/libstagefright/omx/OMXNodeInstance.cpp
+++ b/media/libstagefright/omx/OMXNodeInstance.cpp
@@ -1852,15 +1852,15 @@ void OMXNodeInstance::invalidateBufferID(OMX::buffer_id buffer) {
 #else
 
 OMX::buffer_id OMXNodeInstance::makeBufferID(OMX_BUFFERHEADERTYPE *bufferHeader) {
-    return (OMX::buffer_id)bufferHeader;
+    return (OMX::buffer_id)(size_t)bufferHeader;
 }
 
-OMX_BUFFERHEADERTYPE *OMXNodeInstance::findBufferHeader(OMX::buffer_id buffer) {
-    return (OMX_BUFFERHEADERTYPE *)buffer;
+OMX_BUFFERHEADERTYPE *OMXNodeInstance::findBufferHeader(OMX::buffer_id buffer, OMX_U32 portIndex __unused) {
+    return (OMX_BUFFERHEADERTYPE *)(size_t)buffer;
 }
 
 OMX::buffer_id OMXNodeInstance::findBufferID(OMX_BUFFERHEADERTYPE *bufferHeader) {
-    return (OMX::buffer_id)bufferHeader;
+    return (OMX::buffer_id)(size_t)bufferHeader;
 }
 
 void OMXNodeInstance::invalidateBufferID(OMX::buffer_id buffer __unused) {
