From 76e800f1bc5b4a20f32b3f2a42b6d050e4f37f21 Mon Sep 17 00:00:00 2001
From: LineageOS-MTK <luzejij@binka.me>
Date: Tue, 7 Feb 2017 12:33:25 +0300
Subject: [PATCH] MediaTek: Add support for mt6572 & mt6582 & mt6592.

---
 init/Android.mk | 12 ++++++++++++
 init/init.cpp   | 12 +++++++++++-
 2 files changed, 23 insertions(+), 1 deletion(-)

diff --git a/init/Android.mk b/init/Android.mk
index 85dfbfc9f..655bb7b79 100644
--- a/init/Android.mk
+++ b/init/Android.mk
@@ -68,6 +68,18 @@ ifneq ($(TARGET_IGNORE_RO_BOOT_REVISION),)
 LOCAL_CFLAGS += -DIGNORE_RO_BOOT_REVISION
 endif
 
+ifeq ($(TARGET_BOARD_PLATFORM),mt6572)
+LOCAL_CFLAGS += -DMTK_MT6572
+endif
+
+ifeq ($(TARGET_BOARD_PLATFORM),mt6582)
+LOCAL_CFLAGS += -DMTK_MT6582
+endif
+
+ifeq ($(TARGET_BOARD_PLATFORM),mt6592)
+LOCAL_CFLAGS += -DMTK_MT6592
+endif
+
 ifneq ($(TARGET_INIT_UMOUNT_AND_FSCK_IS_UNSAFE),)
 LOCAL_CFLAGS += -DUMOUNT_AND_FSCK_IS_UNSAFE
 endif
diff --git a/init/init.cpp b/init/init.cpp
index 771f5c925..b8ada893a 100644
--- a/init/init.cpp
+++ b/init/init.cpp
@@ -817,7 +817,17 @@ static void export_kernel_boot_props() {
         { "ro.boot.mode",       "ro.bootmode",   "unknown", },
         { "ro.boot.baseband",   "ro.baseband",   "unknown", },
         { "ro.boot.bootloader", "ro.bootloader", "unknown", },
-        { "ro.boot.hardware",   "ro.hardware",   "unknown", },
+ 
+ #ifdef MTK_MT6572     
+         { "ro.boot.hardware",   "ro.hardware",   "mt6572", },
+ #endif
+ #ifdef MTK_MT6582     
+         { "ro.boot.hardware",   "ro.hardware",   "mt6582", },
+ #endif
+ #ifdef MTK_MT6592     
+         { "ro.boot.hardware",   "ro.hardware",   "mt6592", },
+ #endif 
+ 
 #ifndef IGNORE_RO_BOOT_REVISION
         { "ro.boot.revision",   "ro.revision",   "0", },
 #endif
